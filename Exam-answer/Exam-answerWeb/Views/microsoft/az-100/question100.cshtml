<ul class="panelbar">
    <li class="k-state-active">
        <span class="k-link k-state-selected">Question @Model?.Id</span>
        <div>
            <p>
                @Html.Raw(Model.H1OpenTag)
                You have an Azure virtual network (VNet) named VNet1. The VNet is configured as follows:
                @Html.Raw(Model.H1CloseTag)
            </p>
            <p>
                @Html.Raw(Model.H2OpenTag)
                * Subnet1: 2 Windows Server 2016 virtual machines (VMs) named W1 and W2
                <br />
                * Subnet2: 2 Linux VMs named L1 and L2
                @Html.Raw(Model.H2CloseTag)
            </p>
            <p>
                You create three network security groups with the following properties:
            </p>
            <p>
                * NSG1: Allow inbound TCP 443
                <br />
                * NSG2: Allow inbound TCP 1433
                <br />
                * NSG3: Default outbound rules
            </p>
            <p>
                You need to deploy the NSGs to VNet1 to meet the following security requirements:
            </p>
            <p>
                * Web servers need to allow inbound HTTPS traffic.
                <br />
                * W1 needs to deny all outbound traffic.
                <br />
                * Database servers need to allow inbound SQL Server traffic.
                <br />
                * Solution must minimize administrative complexity.
            </p>
            <p>
                How should you deploy the NSG? To answer, select the appropriate NSG option for each Azure resource from the drop-down menus.
            </p>
        </div>
    </li>
    <li class="k-state-active">
        Answers
        TO DO
    </li>
    <li>
        Explanation
        <div>
            <p>
                Microsoft best practice guidance suggests that you associate NSGs at the subnet level to minimize maintenance and troubleshooting effort.
            </p>
            <p>
                You should associate NSG1 with Sub1 because this NSG allows HTTPS traffic. Likewise, you should associate NSG2 with Sub2 because this NSG allows SQL Server traffic.
            </p>
            <p>
                The L1, L2, and W2 NICs should have no explicit NSG assignment and therefore rely upon the subnet-linked NSGs.
            </p>
            <p>
                You can combine NSGs by associating them at the network interface card (NIC) and subnet levels. In this case, you should associate NSG3 to W1's network interface to meet the goal of restricting all outbound traffic. This works because the default NSG ruleset includes a blanket DenyAllOutBound rule.
            </p>
            <p>
                You should not use the New-AzureRmVMDataDisk cmdlet. This cmdlet creates a managed virtual data disk for a VM, but it does not add the virtual disk to the VM.
            </p>
        </div>
    </li>
    <li>
        References
        <div>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-network/security-overview" target="_blank" rel="noopener">Security groups</a>
            </p>
            <p>
                <a href="https://blogs.msdn.microsoft.com/igorpag/2016/05/14/azure-network-security-groups-nsg-best-practices-and-lessons-learned/" target="_blank" rel="noopener">Azure Network Security Groups (NSG) - Best Practices and Lessons Learned</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-network/tutorial-filter-network-traffic" target="_blank" rel="noopener">Tutorial: Filter network traffic with a network security group using the Azure Portal</a>
            </p>
        </div>
    </li>
</ul>